<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="slide_contents01.css">
    </head>
    <body>
        <section class="header">
            <h1>スライドコンテンツサンプル</h1>
        </section>
        <div class="HSL01-container">
            <div class="HSL01-slide-container">
                <div class="HSL01-slide-body">
                    <div class="HSL01-slide-page-body">
                        <div class="HSL01-slide-page01 HSL01-slide-page-hidden">

                        </div>
                    </div>
                    <div class="HSL01-slide-page-body">
                        <div class="HSL01-slide-page02 HSL01-slide-page-hidden">

                        </div>
                    </div>
                </div>
                <div class="HSL01-slide-tag">
                    <img src="icon001_person_team.png" class="HSL01-slide-page01-tag" alt="メンバー">
                    <img src="icon002_items.png" class="HSL01-slide-page02-tag" alt="作業項目">
                </div>
            </div>
        </div>
        <script>

function HSL01_show_slide_body() {
    let els = document.getElementsByClassName('HSL01-slide-body');
    if (els.length !== 1) {
        console.error('no found slide body');
        return;
    }
    let c = els[0];
    c.style.display = 'block';
}
function HSL01_clear_active_tag() {
    let els = document.getElementsByClassName('HSL01-slide-tag');
    if (els.length !== 1) {
        console.error('no found slide tag container');
        return;
    }
    els = els[0].getElementsByTagName('img');
    if (els.length === 0) {
        console.error('no found slide tag');
    }
    for (let index = 0; index < els.length; ++index) {
        let imgTag = els[index];
        const iter = imgTag.classList.values();
        for (let v = iter.next(); !v.done; v = iter.next()) {
            if (v.value.match(/-tag-active$/)) {
                imgTag.classList.remove(v.value);
                break;
            }
        }
    }
}
function HSL01_hide_page() {
    let els = document.getElementsByClassName('HSL01-slide-page-body');
    if (els.length < 1) {
        console.error('no found slide tag page body');
        return;
    }
    for (let index = 0; index < els.length; ++index) {
        let pageTag = els[index].firstElementChild;
        if (!pageTag.classList.contains('HSL01-slide-page-hidden')) {
            pageTag.classList.add('HSL01-slide-page-hidden');
        }
    }
}
function HSL01_show_page(className) {
    let els = document.getElementsByClassName(className);
    if (els.length !== 1) {
        console.error('no found slide page(' + className + ')');
        return;
    }
    let c = els[0];
    c.classList.remove('HSL01-slide-page-hidden');
}
function HSL01_do_slide(className) {
    let els = document.getElementsByClassName('HSL01-slide-container');
    if (els.length !== 1) {
        console.error('no found slide container');
        return;
    }
    let c = els[0];
    let rmList = [];
    c.classList.forEach(clsName => {
        if (clsName.match(/-slidein$/)) {
            rmList.push(clsName);
        }
    });
    c.classList.remove(...rmList);
    c.classList.add(className + '-slidein');
}
function HSL01_clickEvent(event) {
    let target = event.target;
    let slidePage = '';
    if (target.classList.contains('HSL01-slide-page01-tag')) {
        slidePage = 'HSL01-slide-page01';
    } else if (target.classList.contains('HSL01-slide-page02-tag')) {
        slidePage = 'HSL01-slide-page02';
    }
    if (slidePage) {
        HSL01_show_slide_body();
        HSL01_hide_page();
        HSL01_clear_active_tag();
        HSL01_show_page(slidePage);
        HSL01_do_slide(slidePage);
        target.classList.add(slidePage + '-tag-active');
    }
}
window.addEventListener('load', (event) => {
    console.log('start content slider sample');
    document.addEventListener('click', HSL01_clickEvent);
});
        </script>
    </body>
</html>